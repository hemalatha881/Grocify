<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grocify Notifications</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family:'Segoe UI', sans-serif; background:#f5f5f5; }
.header { position: fixed; top:0; left:0; right:0; z-index:1000; background: #28a745; color:white; padding:15px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 4px 10px rgba(0,0,0,0.2);}
.header h5 { margin:0; }
.main { padding-top:90px; max-width:900px; margin:auto; }
.notification-card { margin-bottom:15px; border-radius:12px; padding:15px; color:white; box-shadow:0 4px 12px rgba(0,0,0,0.2); transition: transform 0.3s; }
.notification-card:hover { transform:scale(1.02); }
.today { background:#dc3545; }
.tomorrow { background:#ffc107; color:#000; }
@keyframes fadeIn { from {opacity:0; transform: translateY(-20px);} to {opacity:1; transform: translateY(0);} }
.fade-in { animation: fadeIn 0.6s ease; }
</style>
</head>
<body>

<div class="header">
  <h5>Grocify Notifications</h5>
  <button class="btn btn-light btn-sm fw-bold" onclick="window.location.href='index1.html'">üè† Home</button>
</div>

<div class="main">
  <h4 class="mb-4">Items to Buy</h4>
  <div id="notificationsContainer"></div>
</div>

<script>
// Demo data (replace with backend fetch in real project)
const groceryItems = [
  {name:"Sugar", quantity:2, unit:"kg", lastBought:"2025-10-14", frequencyDays:2, addedTimes:5},
  {name:"Salt", quantity:1, unit:"kg", lastBought:"2025-10-15", frequencyDays:2, addedTimes:3},
  {name:"Milk", quantity:5, unit:"litres", lastBought:"2025-10-16", frequencyDays:1, addedTimes:7},
  {name:"Rice", quantity:10, unit:"kg", lastBought:"2025-10-13", frequencyDays:3, addedTimes:10}
];

function renderNotifications() {
  const container = document.getElementById("notificationsContainer");
  container.innerHTML = "";

  const today = new Date();
  const tomorrow = new Date();
  tomorrow.setDate(today.getDate()+1);

  function isDue(itemDate, freq, targetDate){
    const last = new Date(itemDate);
    last.setDate(last.getDate()+freq);
    return last.toDateString() === targetDate.toDateString();
  }

  let anyItems = false;

  groceryItems.forEach(item => {
    let type = "";
    if(isDue(item.lastBought, item.frequencyDays, today)) type="today";
    else if(isDue(item.lastBought, item.frequencyDays, tomorrow)) type="tomorrow";
    else return; // skip if not today or tomorrow

    anyItems = true;
    const card = document.createElement("div");
    card.className = `notification-card fade-in ${type}`;
    card.innerHTML = `
      <h5>${item.name}</h5>
      <p>Quantity: ${item.quantity} ${item.unit}</p>
      <p>Added ${item.addedTimes} times</p>
      <p>${type==="today" ? "Buy Today" : "Buy Tomorrow"}</p>
    `;
    container.appendChild(card);
  });

  if(!anyItems){
    container.innerHTML = `<p class="text-center fw-bold">No items need to be bought today or tomorrow!</p>`;
  }
}

// Initial render
renderNotifications();
</script>
</body>
</html>
