<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Health Grocery - Grocify</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: 'Segoe UI', sans-serif; background: #f5f5f5; padding-bottom: 50px; }
.navbar-custom { background: #28a745; color: white; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
.navbar-custom a { color: white; text-decoration: none; }
.container { margin-top: 90px; }
.category-title { margin-top: 30px; margin-bottom: 15px; color: #28a745; }
.health-card img { height: 160px; object-fit: cover; transition: transform 0.3s; }
.health-card:hover img { transform: scale(1.05); }
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-custom fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Grocify - Health Grocery</a>
    <div class="d-flex">
      <button class="btn btn-light me-2" onclick="window.location.href='index1.html'">üè† Home</button>
      <button class="btn btn-light" onclick="window.history.back()">‚¨Ö Back</button>
    </div>
  </div>
</nav>

<div class="container">
  <h2 class="my-4 text-center">Recommended Items Based on Your Health Profile</h2>
  <div id="healthItemsContainer"></div>
</div>

<script>
// Items database for each condition/preference (minimum 15 items per category)
const healthDB = {
  "Diabetes": [
    "Oats","Stevia","Brown Rice","Chia Seeds","Almonds","Walnuts","Broccoli","Spinach","Cauliflower","Carrot","Tomato","Green Beans","Apple","Pear","Cucumber"
  ],
  "High Blood Pressure": [
    "Spinach","Beetroot","Garlic","Tomato","Onion","Celery","Lentils","Chickpeas","Brown Rice","Oats","Green Tea","Apple","Berries","Carrot","Cauliflower"
  ],
  "Cholesterol": [
    "Almonds","Avocado","Oats","Flax Seeds","Chia Seeds","Salmon","Mackerel","Walnuts","Olive Oil","Broccoli","Spinach","Lentils","Soy Milk","Apple","Berries"
  ],
  "Thyroid": [
    "Seaweed","Salmon","Eggs","Almonds","Walnuts","Carrot","Spinach","Tomato","Cauliflower","Pumpkin","Cabbage","Chia Seeds","Oats","Brown Rice","Beans"
  ],
  "Acidity": [
    "Banana","Oatmeal","Cucumber","Melon","Papaya","Carrot","Spinach","Brown Rice","Lentils","Chicken","Tofu","Almonds","Coconut Water","Green Beans","Zucchini"
  ],
  "Obesity": [
    "Green Tea","Quinoa","Salad Mix","Spinach","Broccoli","Carrot","Cucumber","Apple","Pear","Berries","Oats","Brown Rice","Chia Seeds","Almonds","Lentils"
  ],
  "Vegetarian": [
    "Paneer","Tofu","Lentils","Chickpeas","Quinoa","Oats","Spinach","Broccoli","Carrot","Apple","Banana","Pear","Almonds","Walnuts","Green Beans"
  ],
  "Non-Vegetarian": [
    "Chicken Breast","Eggs","Salmon","Mackerel","Tuna","Shrimp","Turkey","Yogurt","Cheese","Milk","Beef","Lamb","Crab","Sardines","Cod"
  ],
  "Low Sugar": [
    "Oats","Chia Seeds","Almonds","Walnuts","Spinach","Broccoli","Cauliflower","Cucumber","Apple","Pear","Berries","Carrot","Green Beans","Brown Rice","Quinoa"
  ],
  "High Protein": [
    "Eggs","Paneer","Tofu","Chicken Breast","Salmon","Greek Yogurt","Lentils","Chickpeas","Quinoa","Almonds","Walnuts","Peanut Butter","Milk","Cheese","Soy Milk"
  ],
  "Low Carb": [
    "Spinach","Broccoli","Cauliflower","Zucchini","Cucumber","Bell Peppers","Mushrooms","Eggs","Salmon","Chicken","Tofu","Paneer","Almonds","Walnuts","Cheese"
  ],
  "Organic Food": [
    "Organic Apple","Organic Carrot","Organic Spinach","Organic Broccoli","Organic Banana","Organic Pear","Organic Almonds","Organic Lettuce","Organic Tomato","Organic Cucumber","Organic Bell Pepper","Organic Milk","Organic Cheese","Organic Tofu","Organic Lentils"
  ],
  "Gluten Free": [
    "Quinoa","Brown Rice","Oats","Chia Seeds","Almonds","Walnuts","Rice Noodles","Millets","Corn","Buckwheat","Lentils","Chickpeas","Potatoes","Sweet Potatoes","Vegetables"
  ]
};

// Get user profile
const user = JSON.parse(localStorage.getItem("userProfile"));
const container = document.getElementById("healthItemsContainer");

if(!user){
  container.innerHTML = `<p class="text-center">‚ö†Ô∏è Please complete your user profile first. <a href="userprofile.html">Go to Profile</a></p>`;
} else {
  const userSelectedCategories = [
    ...(user.healthConditions || []),
    user.dietaryType || "",
    ...(user.foodPreferences || [])
  ];

  // Remove empty
  const selectedCategories = userSelectedCategories.filter(c=>c && healthDB[c]);

  selectedCategories.forEach(category=>{
    const items = healthDB[category].slice(0,15); // first 15 items
    container.innerHTML += `
      <h4 class="category-title">${category} Items</h4>
      <div class="row g-3 mb-4">
        ${items.map(item=>`
          <div class="col-md-4">
            <div class="card health-card h-100 shadow-sm">
              <div class="card-body text-center">
                <h5 class="card-title">${item}</h5>
              </div>
            </div>
          </div>
        `).join("")}
      </div>
    `;
  });

  if(selectedCategories.length === 0){
    container.innerHTML = `<p class="text-center">No items found for your profile.</p>`;
  }
}
</script>

</body>
</html>
